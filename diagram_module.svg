<svg xmlns="http://www.w3.org/2000/svg" width="562" height="457" viewBox="-0.5 -0.5 562 457"><path fill="none" stroke="#000" pointer-events="none" d="M0 15h320v200H0z"/><switch transform="translate(2.5 -1.5)"><foreignObject style="overflow:visible" pointer-events="none" width="105" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;font-size:12px;font-family:Helvetica;color:#000;line-height:1.2;vertical-align:top;width:106px;white-space:nowrap;overflow-wrap:normal;text-align:left"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal">background context</div></div></foreignObject><text x="53" y="12" text-anchor="middle" font-size="12" font-family="Helvetica">background context</text></switch><path fill="none" stroke="#000" pointer-events="none" d="M0 255h320v200H0z"/><switch transform="translate(2.5 238.5)"><foreignObject style="overflow:visible" pointer-events="none" width="113" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;font-size:12px;font-family:Helvetica;color:#000;line-height:1.2;vertical-align:top;width:114px;white-space:nowrap;overflow-wrap:normal;text-align:left"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal"><div>content script context</div></div></div></foreignObject><text x="57" y="12" text-anchor="middle" font-size="12" font-family="Helvetica">&lt;div&gt;content script context&lt;/div&gt;</text></switch><rect x="360" y="15" width="160" height="80" rx="12" ry="12" fill="#f5f5f5" stroke="#666" pointer-events="none"/><switch transform="translate(402.5 48.5)"><foreignObject style="overflow:visible" pointer-events="none" width="75" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;font-size:12px;font-family:Helvetica;color:#333;line-height:1.2;vertical-align:top;width:76px;white-space:nowrap;overflow-wrap:normal;text-align:center"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal"><div align="center">ShimManager</div></div></div></foreignObject><text x="38" y="12" fill="#333" text-anchor="middle" font-size="12" font-family="Helvetica">[Not supported by viewer]</text></switch><path d="M360 55H166.37" fill="none" stroke="#000" stroke-miterlimit="10" pointer-events="none"/><path d="M161.12 55l7-3.5-1.75 3.5 1.75 3.5z" stroke="#000" stroke-miterlimit="10" pointer-events="none"/><path d="M85 76.37V95" fill="none" stroke="#000" stroke-miterlimit="10" pointer-events="none"/><path d="M85 71.12l3.5 7-3.5-1.75-3.5 1.75z" stroke="#000" stroke-miterlimit="10" pointer-events="none"/><path fill="#f5f5f5" stroke="#666" pointer-events="none" d="M10 40h150v30H10z"/><switch transform="translate(47.5 48.5)"><foreignObject style="overflow:visible" pointer-events="none" width="75" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;font-size:12px;font-family:Helvetica;color:#333;line-height:1.2;vertical-align:top;width:76px;white-space:nowrap;overflow-wrap:normal;text-align:center"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal"><div><font>shim/export.ts</font></div></div></div></foreignObject><text x="38" y="12" fill="#333" text-anchor="middle" font-size="12" font-family="Helvetica">[Not supported by viewer]</text></switch><path fill="#f5f5f5" stroke="#666" pointer-events="none" d="M10 150h150v30H10z"/><switch transform="translate(49.5 158.5)"><foreignObject style="overflow:visible" pointer-events="none" width="70" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;font-size:12px;font-family:Helvetica;color:#333;line-height:1.2;vertical-align:top;width:71px;white-space:nowrap;overflow-wrap:normal;text-align:center"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal"><div align="center"><font>shim/index.ts</font></div></div></div></foreignObject><text x="35" y="12" fill="#333" text-anchor="middle" font-size="12" font-family="Helvetica">[Not supported by viewer]</text></switch><path fill="none" stroke="#000" pointer-events="none" d="M200 85h110v90H200z"/><switch transform="translate(219.5 182.5)"><foreignObject style="overflow:visible" pointer-events="none" width="70" height="9" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;font-size:9px;font-family:Helvetica;color:#000;line-height:1.2;vertical-align:top;width:71px;white-space:nowrap;overflow-wrap:normal;text-align:center"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal"><div style="font-size:9px">MessageChannel</div></div></div></foreignObject><text x="35" y="9" text-anchor="middle" font-size="9" font-family="Helvetica">[Not supported by viewer]</text></switch><path d="M183.63 110H160" fill="none" stroke="#ea6b66" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/><path d="M188.88 110l-7 3.5 1.75-3.5-1.75-3.5z" fill="#ea6b66" stroke="#ea6b66" stroke-miterlimit="10" pointer-events="none"/><path fill="#e1d5e7" stroke="#9673a6" pointer-events="none" d="M190 95h110v30H190z"/><switch transform="translate(231.5 103.5)"><foreignObject style="overflow:visible" pointer-events="none" width="27" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;font-size:12px;font-family:Helvetica;color:#000;line-height:1.2;vertical-align:top;width:28px;white-space:nowrap;overflow-wrap:normal;text-align:center"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal"><div>port1</div></div></div></foreignObject><text x="14" y="12" text-anchor="middle" font-size="12" font-family="Helvetica">[Not supported by viewer]</text></switch><path fill="#f5f5f5" stroke="#666" pointer-events="none" d="M190 135h110v30H190z"/><switch transform="translate(231.5 143.5)"><foreignObject style="overflow:visible" pointer-events="none" width="27" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;font-size:12px;font-family:Helvetica;color:#333;line-height:1.2;vertical-align:top;width:28px;white-space:nowrap;overflow-wrap:normal;text-align:center"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal"><div>port2</div></div></div></foreignObject><text x="14" y="12" fill="#333" text-anchor="middle" font-size="12" font-family="Helvetica">[Not supported by viewer]</text></switch><path d="M85 125v18.63" fill="none" stroke="#000" stroke-miterlimit="10" pointer-events="none"/><path d="M85 148.88l-3.5-7 3.5 1.75 3.5-1.75z" stroke="#000" stroke-miterlimit="10" pointer-events="none"/><path d="M122.5 125v18.63" fill="none" stroke="#ea6b66" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/><path d="M122.5 148.88l-3.5-7 3.5 1.75 3.5-1.75z" fill="#ea6b66" stroke="#ea6b66" stroke-miterlimit="10" pointer-events="none"/><path fill="#fff2cc" stroke="#d6b656" pointer-events="none" d="M10 95h150v30H10z"/><switch transform="translate(23.5 103.5)"><foreignObject style="overflow:visible" pointer-events="none" width="123" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;font-size:12px;font-family:Helvetica;color:#000;line-height:1.2;vertical-align:top;width:124px;white-space:nowrap;overflow-wrap:normal;text-align:center"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal"><font>eventMessageChannel</font></div></div></foreignObject><text x="62" y="12" text-anchor="middle" font-size="12" font-family="Helvetica">&lt;font&gt;eventMessageChannel&lt;/font&gt;</text></switch><path d="M190 150h-10V65h130l43.76-8.75" fill="none" stroke="#000" stroke-miterlimit="10" pointer-events="none"/><path d="M358.9 55.22l-6.17 4.8 1.03-3.77-2.41-3.09z" stroke="#000" stroke-miterlimit="10" pointer-events="none"/><switch transform="translate(225.5 59.5)"><foreignObject style="overflow:visible" pointer-events="none" width="51" height="10" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;font-size:10px;font-family:Helvetica;color:#000;line-height:1.2;vertical-align:top;white-space:nowrap;text-align:center"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;background-color:#fff">createShim</div></div></foreignObject><text x="26" y="10" text-anchor="middle" font-size="10" font-family="Helvetica">createShim</text></switch><path fill="#f5f5f5" stroke="#666" pointer-events="none" d="M20 325h140v50H20z"/><switch transform="translate(52.5 332.5)"><foreignObject style="overflow:visible" pointer-events="none" width="75" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;font-size:12px;font-family:Helvetica;color:#333;line-height:1.2;vertical-align:top;width:76px;white-space:nowrap;overflow-wrap:normal;text-align:center"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal"><div><font>shim/export.ts</font></div></div></div></foreignObject><text x="38" y="12" fill="#333" text-anchor="middle" font-size="12" font-family="Helvetica">[Not supported by viewer]</text></switch><path d="M176.37 290q133.63 0 260.1-189.7" fill="none" stroke="#000" stroke-miterlimit="10" pointer-events="none"/><path d="M171.12 290l7-3.5-1.75 3.5 1.75 3.5zM439.38 95.93l-.97 7.77-1.94-3.4-3.89-.49z" stroke="#000" stroke-miterlimit="10" pointer-events="none"/><switch transform="translate(353.5 149.5)"><foreignObject style="overflow:visible" pointer-events="none" width="72" height="10" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;font-size:10px;font-family:Helvetica;color:#000;line-height:1.2;vertical-align:top;white-space:nowrap;text-align:center"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;background-color:#fff">thru background</div></div></foreignObject><text x="36" y="10" text-anchor="middle" font-size="10" font-family="Helvetica">thru background</text></switch><path d="M90 305v13.63" fill="none" stroke="#000" stroke-miterlimit="10" pointer-events="none"/><path d="M90 323.88l-3.5-7 3.5 1.75 3.5-1.75z" stroke="#000" stroke-miterlimit="10" pointer-events="none"/><path fill="#f5f5f5" stroke="#666" pointer-events="none" d="M10 275h160v30H10z"/><switch transform="translate(32.5 283.5)"><foreignObject style="overflow:visible" pointer-events="none" width="115" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;font-size:12px;font-family:Helvetica;color:#333;line-height:1.2;vertical-align:top;width:116px;white-space:nowrap;overflow-wrap:normal;text-align:center"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal"><div><font>shim/contentBridge.ts</font></div></div></div></foreignObject><text x="58" y="12" fill="#333" text-anchor="middle" font-size="12" font-family="Helvetica">&lt;div&gt;&lt;font&gt;shim/contentBridge.ts&lt;/font&gt;&lt;/div&gt;</text></switch><path fill="none" stroke="#000" pointer-events="none" d="M200 335h110v90H200z"/><switch transform="translate(219.5 432.5)"><foreignObject style="overflow:visible" pointer-events="none" width="70" height="9" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;font-size:9px;font-family:Helvetica;color:#000;line-height:1.2;vertical-align:top;width:71px;white-space:nowrap;overflow-wrap:normal;text-align:center"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal"><div style="font-size:9px">MessageChannel</div></div></div></foreignObject><text x="35" y="9" text-anchor="middle" font-size="9" font-family="Helvetica">[Not supported by viewer]</text></switch><path fill="#e1d5e7" stroke="#9673a6" pointer-events="none" d="M190 345h110v30H190z"/><switch transform="translate(231.5 353.5)"><foreignObject style="overflow:visible" pointer-events="none" width="27" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;font-size:12px;font-family:Helvetica;color:#000;line-height:1.2;vertical-align:top;width:28px;white-space:nowrap;overflow-wrap:normal;text-align:center"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal"><div>port1</div></div></div></foreignObject><text x="14" y="12" text-anchor="middle" font-size="12" font-family="Helvetica">[Not supported by viewer]</text></switch><path fill="#f5f5f5" stroke="#666" pointer-events="none" d="M190 385h110v30H190z"/><switch transform="translate(231.5 393.5)"><foreignObject style="overflow:visible" pointer-events="none" width="27" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;font-size:12px;font-family:Helvetica;color:#333;line-height:1.2;vertical-align:top;width:28px;white-space:nowrap;overflow-wrap:normal;text-align:center"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal"><div>port2</div></div></div></foreignObject><text x="14" y="12" fill="#333" text-anchor="middle" font-size="12" font-family="Helvetica">[Not supported by viewer]</text></switch><path d="M80 391.37V400h103.63" fill="none" stroke="#000" stroke-miterlimit="10" pointer-events="none"/><path d="M80 386.12l3.5 7-3.5-1.75-3.5 1.75zM188.88 400l-7 3.5 1.75-3.5-1.75-3.5z" stroke="#000" stroke-miterlimit="10" pointer-events="none"/><path fill="#f5f5f5" stroke="#666" pointer-events="none" d="M10 355h140v30H10z"/><switch transform="translate(37.5 363.5)"><foreignObject style="overflow:visible" pointer-events="none" width="85" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;font-size:12px;font-family:Helvetica;color:#333;line-height:1.2;vertical-align:top;width:86px;white-space:nowrap;overflow-wrap:normal;text-align:center"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal"><font>backgroundPort</font></div></div></foreignObject><text x="43" y="12" fill="#333" text-anchor="middle" font-size="12" font-family="Helvetica">&lt;font&gt;backgroundPort&lt;/font&gt;</text></switch><path fill="#fff" stroke="#000" pointer-events="none" d="M360 255h200v100H360z"/><switch transform="translate(362.5 293.5)"><foreignObject style="overflow:visible" pointer-events="none" width="135" height="22" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;font-size:10px;font-family:Helvetica;color:#000;line-height:1.2;vertical-align:top;width:136px;white-space:nowrap;overflow-wrap:normal;text-align:left"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:pre"><div>ensureInit()</div><div align="left">    .then(<span style="background-color:#e1d5e7">backgroundPort</span>=&gt; {})</div></div></div></foreignObject><text x="68" y="16" text-anchor="middle" font-size="10" font-family="Helvetica">[Not supported by viewer]</text></switch><path d="M300 345.93l53.83-13.77" fill="none" stroke="#000" stroke-miterlimit="10" pointer-events="none"/><path d="M358.92 330.86l-5.92 5.12.83-3.82-2.56-2.96z" stroke="#000" stroke-miterlimit="10" pointer-events="none"/><path d="M300 110l114.94 140.08" fill="none" stroke="#000" stroke-miterlimit="10" pointer-events="none"/><path d="M418.27 254.14l-7.15-3.2 3.82-.86 1.59-3.58z" stroke="#000" stroke-miterlimit="10" pointer-events="none"/></svg>
